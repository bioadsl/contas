/*!
 *
 * Bryntum Calendar 5.5.2 (TRIAL VERSION)
 *
 * Copyright(c) 2023 Bryntum AB
 * https://bryntum.com/contact
 * https://bryntum.com/license
 *
 */
(function(a,b){function k(a,b){return _cmpb(b- -0x24e,a);}const c=a();while(!![]){try{const d=-parseInt(k(-0x129,-0x15b))/0x1*(-parseInt(k(-0xe4,-0x118))/0x2)+parseInt(k(-0x126,-0xfd))/0x3+parseInt(k(-0x13f,-0x157))/0x4+-parseInt(k(-0x130,-0x104))/0x5*(parseInt(k(-0x143,-0x12d))/0x6)+parseInt(k(-0x139,-0x147))/0x7*(parseInt(k(-0xec,-0x11a))/0x8)+-parseInt(k(-0x118,-0x11f))/0x9*(-parseInt(k(-0x113,-0x10c))/0xa)+parseInt(k(-0x143,-0x112))/0xb*(-parseInt(k(-0xfd,-0x103))/0xc);if(d===b){break;}else{c['push'](c['shift']());}}catch(e){c['push'](c['shift']());}}}(_cmpa,0xd70a1));import{InstancePlugin,FunctionHelper,ObjectHelper}from'./Editor.js';function _cmpb(a,b){const c=_cmpa();_cmpb=function(d,e){d=d-0xeb;let f=c[d];return f;};return _cmpb(a,b);}import{GridFeatureManager}from'./GridBase.js';class TreeGroup extends InstancePlugin{static [_cmpl(0x509,0x52d)]=_cmpl(0x510,0x50b);static [_cmpl(0x519,0x4fb)]={'levels':[],'parentCls':'b-generated-parent','parentRenderer':null,'hideGroupedColumns':null,'refreshGroupsTimeout':0x64};static [_cmpl(0x533,0x539)]={'chain':['populateHeaderMenu'],'assign':['group',_cmpl(0x50f,0x534),'refreshGroups']};static [_cmpl(0x52d,0x55b)]={'isApplying':0x0,'originalStore':null};[_cmpl(0x539,0x56c)](a,b){this[m(0x2e4,0x2c7)]=a[m(0x2f6,0x2e8)][m(0x31d,0x313)](c=>c[m(0x2ee,0x31b)]);super[m(0x342,0x333)](a,b);function m(a,b){return _cmpl(a- -0x1f7,b);}this[m(0x2eb,0x2d0)]=this[m(0x2eb,0x309)]||[];if(!a[m(0x335,0x32b)](m(0x302,0x2d1))){throw new Error(m(0x32a,0x314));}}[_cmpl(0x53b,0x531)](){function n(a,b){return _cmpl(a- -0x13,b);}this[n(0x523,0x53e)]=FunctionHelper[n(0x4e9,0x51b)](this[n(0x511,0x4e3)],this[n(0x4df,0x4d2)],this);return super[n(0x528,0x50d)](...arguments);}[_cmpl(0x4ff,0x530)](a){const b=this;function o(a,b){return _cmpl(b- -0x50,a);}if(b[o(0x4ce,0x49c)]){a['cls']=b[o(0x4b4,0x49c)];}}[_cmpl(0x4ea,0x4f8)](a){}async[_cmpl(0x50c,0x51c)](){const a=this;if(a[p(0x32e,0x30f)][p(0x364,0x387)]){await a['originalStore'][p(0x35c,0x36f)](p(0x34b,0x35e),![]);if(a['isDestroyed']){return;}}function p(a,b){return _cmpl(a- -0x1b6,b);}const {crudManager:b}=this[p(0x326,0x2fd)];if(b){var c;if(b[p(0x35d,0x369)]||b['_autoLoadPromise']){await b[p(0x35c,0x34a)](p(0x330,0x34e));}if(a[p(0x32a,0x2f6)]){return;}await((c=a[p(0x326,0x346)][p(0x378,0x391)])===null||c===void 0x0?void 0x0:c[p(0x371,0x37a)]());}}async[_cmpl(0x4d2,0x504)](a){const b=this,{client:c,treeColumn:d}=b;let {store:e}=c,f=null,g;const {modelClass:h}=e;function q(a,b){return _cmpl(b- -0x4f5,a);}if(d!==null&&d!==void 0x0&&d[q(-0x7,0x2a)]&&h[q(0x16,0x15)](d[q(0x32,0x2a)])){g=h[q(0x58,0x29)](d[q(0x54,0x2a)]);}a=a||[];if(a['length']===0x0&&this[q(0x35,0x3)]){return;}b[q(-0x2b,-0x13)]=a;b['isApplying']++;c[q(0x2c,0x36)]();if(!b[q(-0x2f,-0x11)]){var i;b[q(-0x41,-0x11)]=e;e=new e[(q(0x17,0x45))]({'reapplyFilterOnAdd':!![],'reapplyFilterOnUpdate':!![],'tree':!![],'modelClass':e['modelClass'],'load':(i=e['load'])===null||i===void 0x0?void 0x0:i[q(-0x37,-0x16)](e),'commit':e[q(0x6e,0x3f)]['bind'](e),'filter':e['filter']['bind'](e),'clearFilters':e['clearFilters'][q(-0x11,-0x16)](e)});c[q(0xb,0x0)]=e;b[q(0x21,-0x11)][q(-0x22,-0x22)]({'name':'originalStore','refresh':b[q(-0x11,-0x1f)],'add':b[q(-0x1e,-0xc)],'remove':b['onOriginalStoreChanged'],'removeAll':b[q(0x26,-0xc)],'thisObj':b});}await b['waitForReadiness']();if(b[q(0x1d,-0x15)]){return;}if(a['length']>0x0){e['data']=b[q(-0x37,-0x11)][q(0x3a,0x6)](![])[q(0x1a,-0x5)](j=>j[q(-0xe,-0x21)]?j[q(-0x31,-0x12)]():[]);f=e[q(-0x1e,0x10)](a,j=>{function r(a,b){return q(a,b-0x17e);}if(g){ObjectHelper[r(0x143,0x161)](j,g,j[r(0x193,0x1ab)]);}b[r(0x1a9,0x188)](j);});b[q(-0x24,-0xb)](f);await b[q(-0x3a,-0x14)](q(-0x6,0xb),{'store':e,'data':f['children']});e[q(-0x25,-0x1c)]=f['children'];}else{c['store']=b[q(0x7,-0x11)];b[q(0x2f,0x33)]('originalStore');b[q(0x10,-0x11)]=null;}b[q(-0x27,0x1)]--;c[q(0x52,0x27)]();if(c[q(0xd,0x18)]){c[q(0x15,0x3a)](![]);}c[q(-0x38,-0x14)]('treeGroupChange',{'levels':a});}['doDisable'](a){if(a){this[s(-0x4a,-0x15)]();}function s(a,b){return _cmpl(b- -0x524,a);}super[s(-0x22,0x2)](a);}[_cmpl(0x4e9,0x4f9)](){this['scheduleRefreshGroups']();}[_cmpl(0x4d6,0x4f7)]({action:a}){function t(a,b){return _cmpl(a- -0x132,b);}if(a==='dataset'||a===t(0x3bd,0x39a)){this['scheduleRefreshGroups']();}}['updateLevels'](a,b){const c=this,{client:d}=c;if(c['hideGroupedColumns']){b===null||b===void 0x0?void 0x0:b[u(-0x1ab,-0x18b)](e=>{function v(a,b){return u(b,a-0x391);}e=e['fieldName']||e;if(!a[v(0x212,0x230)](f=>(f[v(0x233,0x23f)]||f)===e)){d['columns'][v(0x24e,0x21b)](e)['show']();}});a===null||a===void 0x0?void 0x0:a[u(-0x1a9,-0x18b)](e=>{e=e[w(0x1b5,0x1cb)]||e;function w(a,b){return u(b,a-0x313);}if(!b||!b[w(0x194,0x1bb)](f=>f['fieldName']===e)){d[w(0x1ae,0x194)]=!![];d[w(0x18d,0x1a7)]['get'](e)[w(0x187,0x17d)]();d[w(0x1ae,0x194)]=![];}});}function u(a,b){return _cmpl(b- -0x673,a);}if(a||!c[u(-0x161,-0x17b)]){c[u(-0x163,-0x17c)]=c[u(-0x1c4,-0x1a1)](a);d[u(-0x176,-0x176)]();}}async['group'](a){function x(a,b){return _cmpl(b- -0x459,a);}ObjectHelper['assertArray'](a,x(0xa5,0x98));await this[x(0x4a,0x79)](a);}async[_cmpl(0x50f,0x518)](){function y(a,b){return _cmpl(a- -0x5c7,b);}if(this['isGrouped']){this[y(-0xa7,-0x79)]=[];await this['updatePromise'];}}[_cmpl(0x524,0x514)](){var a;function z(a,b){return _cmpl(b- -0x2fb,a);}return(a=this['applyLevels'])===null||a===void 0x0?void 0x0:a[z(0x1d3,0x208)](this,this[z(0x1e4,0x1e7)]);}get[_cmpl(0x50b,0x4d9)](){function A(a,b){return _cmpl(b- -0x53c,a);}return this[A(-0x35,-0x5a)]['length']>0x0;}[_cmpl(0x507,0x530)]({column:a,items:b}){const c=this,d=a[B(-0x23a,-0x263)]!==![]&&!a[B(-0x26d,-0x27d)];let e=![];function B(a,b){return _cmpl(a- -0x752,b);}if(d&&!c[B(-0x25f,-0x24a)](a[B(-0x233,-0x20d)])){b[B(-0x250,-0x27c)]={'text':B(-0x228,-0x24b),'localeClass':c,'icon':'b-fw-icon\x20b-icon-group-asc','separator':!![],'weight':0x190,'disabled':c[B(-0x254,-0x255)],'onItem':()=>c[B(-0x21d,-0x219)](a)};e=!![];}if(c[B(-0x247,-0x218)]){if(c[B(-0x25f,-0x270)](a[B(-0x233,-0x25e)])){b[B(-0x27d,-0x26d)]={'text':B(-0x23b,-0x20c),'localeClass':c,'icon':B(-0x267,-0x290),'separator':!e,'weight':0x1a4,'disabled':c[B(-0x254,-0x236)],'onItem':()=>c[B(-0x275,-0x26b)](a)};e=!![];}b[B(-0x241,-0x225)]={'text':B(-0x22d,-0x215),'localeClass':c,'icon':B(-0x267,-0x25c),'separator':!e,'weight':0x1a4,'disabled':c['disabled'],'onItem':()=>c[B(-0x243,-0x258)]()};}}[_cmpl(0x535,0x50e)](a){function C(a,b){return _cmpl(a- -0x374,b);}this[C(0x1ac,0x1c0)]=this['levels']['concat'](a[C(0x1ab,0x1b1)]);}[_cmpl(0x4f3,0x4fc)](a){function D(a,b){return _cmpl(a- -0x19a,b);}return this[D(0x386,0x388)][D(0x37a,0x351)](b=>b[D(0x37b,0x3a1)]===a);}['removeGrouper'](a){this[E(0x151,0x13b)][E(0x12b,0x135)](this[E(0x151,0x152)][E(0x108,0x119)](b=>b[E(0x146,0x125)]===a[E(0x150,0x143)]),0x1);function E(a,b){return _cmpl(a- -0x3cf,b);}this[E(0x151,0x14c)]=this[E(0x151,0x141)][E(0x135,0x134)]();}}function _cmpl(a,b){return _cmpb(a-0x3e7,b);}TreeGroup[_cmpl(0x506,0x4d7)]=_cmpl(0x510,0x53a);GridFeatureManager[_cmpl(0x537,0x52b)](TreeGroup);function _cmpa(){const F=['1000XBBgGc','resumeRefresh','2309078mEtTjC','getFieldDataSource','field','levels','The\x20TreeGroup\x20feature\x20requires\x20the\x20Tree\x20feature\x20to\x20be\x20enabled','key','1496vfmJJN','refreshGroups','L{stopGrouping}','doDisable','commitAsync','detachListeners','1730QqXItA','L{group}','suspendRefresh','hasFeature','properties','project','renderRows','get','6185dyFqJs','194184TyfGcv','pluginConfig','commit','addGrouper','scheduleRefreshGroups','registerFeature','1536936NbzReU','construct','constructor','applyPluginConfig','applyLevels','ion','isLeaf','groupRemove','onOriginalStoreRefresh','findIndex','setPath','data','1OyGZmt','treeColumn','client','removeGrouper','2931980tVldmh','bind','isDestroyed','trigger','_levels','link','originalStore','isTreeColumn','requestDone','hide','forEach','onOriginalStoreChanged','processTransformedData','b-fw-icon\x20b-icon-clear','parentCls','columns','75635UAwRfw','filter','flatMap','group()','refreshGroupsTimeout','isGroupedByField','some','store','isApplying','updatePromise','isConfiguring','tree','splice','getAllDataRecords','createBuffered','renderContents','disabled','processParentData','beforeDataLoad','load','groupAsc','call','slice','treeify','_$name','populateHeaderMenu','6810jmVzCI','$name','getFieldDefinition','isGrouped','waitForReadiness','isPainted','_suspendRenderContentsOnColumnsChanged','clearGroups','TreeGroup','groupRemoveAll','await','isLoadingOrSyncing','find','fieldName','38241sGQgRC','L{stopGroupingThisColumn}','groupable','configurable','isLoading'];_cmpa=function(){return F;};return _cmpa();}export{TreeGroup};