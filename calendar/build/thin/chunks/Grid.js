/*!
 *
 * Bryntum Calendar 5.5.2 (TRIAL VERSION)
 *
 * Copyright(c) 2023 Bryntum AB
 * https://bryntum.com/contact
 * https://bryntum.com/license
 *
 */
(function(a,b){const c=a();function o(a,b){return _cmpb(b- -0xf9,a);}while(!![]){try{const d=-parseInt(o(0x12,0x53))/0x1*(-parseInt(o(0x40,0x74))/0x2)+parseInt(o(0x54,0x3d))/0x3*(-parseInt(o(0x49,0x80))/0x4)+-parseInt(o(0x17,0xc))/0x5+parseInt(o(-0x30,0xe))/0x6+parseInt(o(0x1b,0x5b))/0x7*(-parseInt(o(0x3b,0x36))/0x8)+-parseInt(o(0x3b,0x31))/0x9*(-parseInt(o(0x54,0x23))/0xa)+parseInt(o(0x47,0x13))/0xb;if(d===b){break;}else{c['push'](c['shift']());}}catch(e){c['push'](c['shift']());}}}(_cmpa,0x37d82));import{GridFeatureManager,CopyPasteBase,Location,GridBase}from'./GridBase.js';import{Delayable,InstancePlugin}from'./Editor.js';const storeListenerName=_cmpp(0x501,0x4dd);class ColumnAutoWidth extends Delayable(InstancePlugin){static [_cmpp(0x49e,0x4c1)]=_cmpp(0x50e,0x503);static ['configurable']={'default':null,'delay':0x0};static get[_cmpp(0x4e1,0x503)](){function q(a,b){return _cmpp(b- -0x67d,a);}return{'after':{'bindStore':'bindStore','unbindStore':'unbindStore','renderRows':q(-0x181,-0x1cc),'onInternalResize':q(-0x18b,-0x196)},'assign':[q(-0x194,-0x18f),'syncAutoWidthColumns']};}[_cmpp(0x4f8,0x510)](a){function r(a,b){return _cmpp(a- -0x19,b);}super[r(0x4df,0x4ef)](a);const {store:b}=this[r(0x4d0,0x513)];b&&this[r(0x4e0,0x4a9)](b);}[_cmpp(0x4c0,0x483)](){function s(a,b){return _cmpp(a- -0x627,b);}this[s(-0x197,-0x17d)]();super[s(-0x167,-0x18d)]();}[_cmpp(0x4f9,0x533)](a){this['lastSync']=null;function t(a,b){return _cmpp(b- -0x1a9,a);}a[t(0x330,0x36e)]({'name':storeListenerName,[t(0x320,0x32a)+this[t(0x30e,0x340)][t(0x33d,0x30b)]]:t(0x2be,0x2e3),'thisObj':this});}[_cmpp(0x490,0x4d7)](){function u(a,b){return _cmpp(b- -0x5de,a);}this[u(-0xe2,-0x10a)](storeListenerName);}get[_cmpp(0x4ee,0x530)](){function v(a,b){return _cmpp(a- -0x70f,b);}return this[v(-0x263,-0x21e)]===null||this[v(-0x253,-0x229)](v(-0x25e,-0x2a5));}[_cmpp(0x48c,0x4c9)]({action:a}){function w(a,b){return _cmpp(b- -0x6df,a);}if(a!==w(-0x23a,-0x23c)){const b=this,{cellEdit:c}=b[w(-0x1d1,-0x1f6)][w(-0x228,-0x229)];++b[w(-0x258,-0x21e)];if(c!==null&&c!==void 0x0&&c['isEditing']&&!c[w(-0x1b9,-0x1d9)]){b[w(-0x22a,-0x22e)]();}else if(!b[w(-0x264,-0x223)](w(-0x21e,-0x22e))){b[w(-0x1c9,-0x1f7)]('syncAutoWidthColumns',b[w(-0x210,-0x1fb)]);}}}['onInternalResize'](a,b,c,d){function x(a,b){return _cmpp(a- -0x43c,b);}if(d===0x0){this[x(0x70,0x88)]=null;this['syncAutoWidthColumns']();}}[_cmpp(0x4b1,0x4c9)](){const a=this,{client:b,storeGeneration:c}=a;if(b[y(0x237,0x239)]){return;}if(a['lastSync']!==c){a[y(0x24e,0x27c)]=c;let d,e;for(const f of b['columns']['visibleColumns']){d=f[y(0x266,0x233)];if(d){if(d===!![]){d=a[y(0x29f,0x291)];}b['resizingColumns']=e=!![];f[y(0x27d,0x2c8)](d);}}if(e){b['resizingColumns']=![];b[y(0x239,0x22e)]();}}function y(a,b){return _cmpp(a- -0x25e,b);}if(a[y(0x25e,0x292)](y(0x253,0x25f))){a[y(0x282,0x27d)](y(0x253,0x26a));}}}ColumnAutoWidth[_cmpp(0x48b,0x476)][_cmpp(0x4c1,0x48c)]=0x0;ColumnAutoWidth['_$name']=_cmpp(0x50e,0x555);function _cmpa(){const a1=['store','clearClipboard','toggleCls','pasteRecordText','_$name','editingStoppedByTapOutside','L{row}','rowSpecifierText','getTopParent','nextSibling','selectedRecords','394646nmpoDk','clipboard','ColumnAutoWidth','generateNewName','getRowById','selectedCells','push','grid','registerFeature','cutData','b-icon\x20b-icon-copy','ion','1532BoWQbq','beforeCopy','L{pasteRecord}','SchedulerPro','RowCopyPaste','nameField','getMenuItemText','cellsToString','prototype','onStoreChange','onBeforeRenderRow','nextOrderedSibling','writeToClipboard','unbindStore','setIsCut','tree','cutRecordText','isModel','splitFrom','parent','afterColumnsResized','trigger','filter','readOnly','copy','L{rows}','includes','$name','Grid','indexOf','length','insert','move','1972530QMEROr','isCut','2298768FnKYKA','clipboardData','ResourceHistogram','isCellSelected','remove','4807kACUPD','lastSync','rowSpecifierTextPlural','extractParents','meta','getRowFor','syncAutoWidthColumns','closest','selectedRecord','asyncEventSuffix','entityName','features','expanded','indexPath','contains','cells','9410zOiAUj','hasTimeout','\x20-\x20','featureClass','disabled','doDestroy','storeGeneration','rowManager','findRecord','autoWidth','type','modified','flatMap','cellCopyPaste','1746BEhwZH','sort','insertChild','insertCopiedRecords','isExpanded','2289592qwKirA','L{cutRecord}','initClass','setFromStringData','copyRows','change','detachListeners','402hYvfiA','some','hasClipboardData','b-icon\x20b-icon-cut','configurable','appendChild','resizeToFitContent','focus','triggerPaste','rowCopyPaste','cls','clearTimeout','pluginConfig','beforePaste','getValue','delay','map','name','onInternalResize','setTimeout','client','b-row-copypaste','2GmFKYM','isArray','paste','columnAutoWidthPending','cut','handleCutData','readFromClipboard','record','7gCFfNR','isTreeGrouped','stringParser','forEach','copyRecordText','construct','bindStore','data','getSelection','isDestroying','default','pasteRows','stringConverter','.b-gridbase:not(.b-schedulerbase)\x20.b-grid-subgrid,.b-grid-subgrid:not(.b-timeaxissubgrid)'];_cmpa=function(){return a1;};return _cmpa();}function _cmpb(a,b){const c=_cmpa();_cmpb=function(d,e){d=d-0xe5;let f=c[d];return f;};return _cmpb(a,b);}GridFeatureManager[_cmpp(0x514,0x4d3)](ColumnAutoWidth,!![]);class RowCopyPaste extends CopyPasteBase{static ['$name']=_cmpp(0x487,0x47c);static [_cmpp(0x4c5,0x50c)]=_cmpp(0x4de,0x525);static [_cmpp(0x4e1,0x514)]={'assign':[_cmpp(0x4d2,0x505),_cmpp(0x4fe,0x504)],'chain':['populateCellMenu']};static [_cmpp(0x4d9,0x4fe)]={'nameField':_cmpp(0x4e6,0x4d7),'keyMap':{'Ctrl+C':{'weight':0xa,'handler':'copy'},'Ctrl+X':{'weight':0xa,'handler':_cmpp(0x4ef,0x51a)},'Ctrl+V':{'weight':0xa,'handler':_cmpp(0x4ed,0x4f5)}},'copyRecordText':'L{copyRecord}','cutRecordText':_cmpp(0x4cf,0x4cd),'pasteRecordText':_cmpp(0x485,0x4a5),'rowSpecifierText':_cmpp(0x507,0x4ec),'rowSpecifierTextPlural':_cmpp(0x49c,0x48b),'localizableProperties':[_cmpp(0x4f7,0x4ff),_cmpp(0x493,0x4a4),_cmpp(0x504,0x4d4),_cmpp(0x508,0x4ed),'rowSpecifierTextPlural'],'rowOptionsOnCellContextMenu':![]};[_cmpp(0x4f8,0x516)](a,b){function z(a,b){return _cmpp(a- -0x654,b);}super[z(-0x15c,-0x152)](a,b);a[z(-0x192,-0x1c1)]['ion']({'beforeRenderRow':z(-0x1c7,-0x1d9),'thisObj':this});this[z(-0x141,-0x133)]=a;}['entityName']='row';[_cmpp(0x48d,0x45d)]({row:a,record:b}){var c;function A(a,b){return _cmpp(a-0x6,b);}a[A(0x4e5,0x4e2)]['b-cut-row']=this['isCut']&&((c=this[A(0x51b,0x4f3)])===null||c===void 0x0?void 0x0:c['includes'](b));}['isActionAvailable']({key:a,action:b,event:c}){function B(a,b){return _cmpp(b- -0x1e4,a);}var d;const {grid:e}=this,{cellEdit:f}=e[B(0x2c9,0x2d2)],{target:g}=c;return!this[B(0x2ac,0x2db)]&&globalThis[B(0x2d7,0x317)]()['toString']()[B(0x2bd,0x2bd)]===0x0&&(!f||!f['isEditing'])&&(b===B(0x285,0x2b7)||!this['copyOnly'])&&((d=e[B(0x2e8,0x327)])===null||d===void 0x0?void 0x0:d['length'])>0x0&&(!g||Boolean(g[B(0x2da,0x2ce)](B(0x306,0x31c))));}async[_cmpp(0x49b,0x479)](){function C(a,b){return _cmpp(a- -0x203,b);}await this[C(0x2cf,0x2e5)]();}async[_cmpp(0x4ef,0x519)](){function D(a,b){return _cmpp(b- -0xfc,a);}await this[D(0x38d,0x3d6)](!![]);}['paste'](a){function E(a,b){return _cmpp(b- -0x373,a);}return this[E(0x140,0x18b)](a!==null&&a!==void 0x0&&a[E(0x105,0x121)]?a:null);}async[_cmpp(0x4d2,0x4a5)](a=![]){const {client:b,entityName:c}=this,d=this['selectedRecords'][F(0x274,0x2b8)](e=>!e[F(0x2e5,0x2b9)]||!a);function F(a,b){return _cmpp(b- -0x1e1,a);}if(!d['length']||b['readOnly']){return;}await this[F(0x2c1,0x2ae)](d,a);b['trigger'](F(0x282,0x2ba),{'records':d,'isCut':a,'entityName':c});}[_cmpp(0x491,0x49e)](a,b){var c;function G(a,b){return _cmpp(b- -0xd9,a);}(c=this['grid'][G(0x3cf,0x3e9)][G(0x3fc,0x437)](a))===null||c===void 0x0?void 0x0:c[G(0x3eb,0x42a)]('b-cut-row',b);a[G(0x3d5,0x3d6)]['isCut']=b;}[_cmpp(0x4f0,0x4ce)]({source:a}){function H(a,b){return _cmpp(b- -0x1c1,a);}var b;if(a!==this&&(b=this[H(0x335,0x354)])!==null&&b!==void 0x0&&b[H(0x2b5,0x2e0)]){this['grid'][H(0x362,0x340)][H(0x305,0x2e9)](this[H(0x327,0x354)]);}}[_cmpp(0x4ff,0x4c5)](a){function I(a,b){return _cmpp(b- -0x73c,a);}return this[I(-0x276,-0x2b2)](a[I(-0x255,-0x275)](b=>{var c;function J(a,b){return I(a,b-0x426);}return(c=this[J(0x1fd,0x1fd)]['rowManager'][J(0x1ce,0x1fa)](b))===null||c===void 0x0?void 0x0:c[J(0x1d1,0x1a4)][J(0x1d6,0x1cf)](d=>new Location(d));}));}async[_cmpp(0x484,0x4aa)]({data:a,isCut:b}){function K(a,b){return _cmpp(a- -0x5ff,b);}return await this[K(-0x116,-0x12e)][K(-0x167,-0x17c)](K(-0x17b,-0x18b),{'records':a,'isCut':b,'entityName':this['entityName']});}async[_cmpp(0x4fe,0x4c9)](a){var b,c,d;const e=this,{client:f,isCut:g,entityName:h}=e,i=a||f[L(0x1fd,0x1df)];if(f['readOnly']||f[L(0x23e,0x22d)]){return[];}const j=await e[L(0x23b,0x21e)]({'referenceRecord':i},!![]),k=e[L(0x1f1,0x1d7)]===j;if(!Array[L(0x236,0x204)](j)||!(j!==null&&j!==void 0x0&&j[L(0x1eb,0x21a)])||f['store']['tree']&&g&&j['some'](n=>n[L(0x203,0x1f2)](i,!![]))){return[];}e['sortByIndex'](j);function L(a,b){return _cmpp(a- -0x2b6,b);}const l={},m=e[L(0x1f8,0x207)](j,l,k);await e[L(0x216,0x236)](m,i);if(f[L(0x246,0x207)]){return;}if(g){await e[L(0x24c,0x231)]();}else{f[L(0x255,0x212)]=m;}f[L(0x1e2,0x1c5)](L(0x237,0x26b),{'records':m,'originalRecords':j,'referenceRecord':i,'isCut':g,'entityName':h});e[L(0x257,0x229)][L(0x227,0x21f)](e);(b=f[L(0x1fa,0x1c7)](m[m[L(0x1eb,0x20c)]-0x1]))===null||b===void 0x0?void 0x0:(c=b['cells'])===null||c===void 0x0?void 0x0:(d=c[0x0])===null||d===void 0x0?void 0x0:d[L(0x226,0x25e)]();return m;}async[_cmpp(0x4e2,0x4d6)]({referenceRecord:a,data:b,text:c,isCut:d}){const e=b!==c?b:[];function M(a,b){return _cmpp(a- -0x678,b);}return await this[M(-0x18f,-0x15f)][M(-0x1e0,-0x1cc)](M(-0x196,-0x16d),{'records':e,'referenceRecord':a,'isCut':d,'entityName':this[M(-0x1c3,-0x18e)],'data':b});}[_cmpp(0x4f5,0x521)](a){function N(a,b){return _cmpp(a- -0x5b,b);}return this[N(0x476,0x4b3)](a,!![])['modifiedRecords'];}[_cmpp(0x50f,0x4e8)](a){const b=a[O(0x316,0x2e1)](this[O(0x298,0x286)]);let c=0x2;while(this[O(0x30f,0x2e7)][O(0x2d0,0x2ff)][O(0x2aa,0x2c1)](this[O(0x27a,0x286)],b+O(0x2a9,0x2bb)+c)){c++;}function O(a,b){return _cmpp(b- -0x202,a);}return b+O(0x302,0x2bb)+c;}[_cmpp(0x4cc,0x4ec)](a,b){function P(a,b){return _cmpp(b- -0x3f9,a);}const {store:c}=this[P(0x124,0xf0)],d=c[P(0xce,0xa7)](b)+0x1;if(c[P(0xdb,0x99)]){return b[P(0x73,0x9d)][P(0xc5,0xd2)](a,b[P(0x110,0x111)],![],{'orderedBeforeNode':b[P(0x6c,0x95)]});}else{return c[P(0x9a,0xa9)](d,a);}}get[_cmpp(0x50b,0x4ec)](){function Q(a,b){return _cmpp(a- -0x78,b);}const a=[...this['client']['selectedRecords']];this[Q(0x471,0x44b)][Q(0x499,0x4a6)]['forEach'](b=>{function R(a,b){return Q(a- -0x2e4,b);}if(!a[R(0x141,0x173)](b[R(0x196,0x17c)])){a['push'](b['record']);}});return a;}[_cmpp(0x489,0x4b1)](a,b=![]){const c=this;let d=c[a+'RecordText'];if(b){d+='\x20('+(c[S(-0x23c,-0x239)][S(-0x2a6,-0x29e)]>0x1?c[S(-0x29a,-0x276)]:c[S(-0x23f,-0x220)])+')';}function S(a,b){return _cmpp(a- -0x747,b);}return d;}['populateCellMenu']({record:a,items:b,cellSelector:c}){function T(a,b){return _cmpp(b- -0x36c,a);}var d;const e=this,{client:f,rowOptionsOnCellContextMenu:g}=e,h=((d=f[T(0x18d,0x14a)][T(0x16e,0x15c)])===null||d===void 0x0?void 0x0:d['enabled'])===!![],i=h&&f[T(0x160,0x13d)](c);if(!f[T(0x10c,0x12e)]&&!f[T(0x1ad,0x188)]&&(a===null||a===void 0x0?void 0x0:a['isSpecialRow'])===![]&&(h?f['selectedRows'][T(0x166,0x135)]:f[T(0x1be,0x19f)][T(0xff,0x135)])&&(!i||e['rowOptionsOnCellContextMenu'])){if(!e['copyOnly']){b[T(0x1a6,0x183)]={'text':e[T(0xd6,0x11d)](T(0x1c2,0x183),i&&g),'localeClass':e,'icon':T(0x12d,0x16c),'weight':0x87,'disabled':a['readOnly'],'onItem':()=>e[T(0x165,0x183)]()};b['paste']={'text':e[T(0x10b,0x11d)](T(0x17a,0x181),i&&g),'localeClass':e,'icon':'b-icon\x20b-icon-paste','weight':0x8c,'onItem':()=>e[T(0x172,0x181)](a),'disabled':e[T(0x12d,0x16b)]()===![]};}b[T(0x142,0x12f)]={'text':e[T(0x111,0x11d)](T(0xf8,0x12f),i&&g),'localeClass':e,'cls':'b-separator','icon':T(0x1d8,0x1aa),'weight':0x78,'onItem':()=>e['copy']()};}}['sortByIndex'](a){function U(a,b){return _cmpp(b- -0x2b5,a);}const {store:b}=this[U(0x1f2,0x234)];return a[U(0x1da,0x215)]((c,d)=>{function V(a,b){return U(b,a- -0x183);}const e=c[V(0x80,0x7f)],f=d['indexPath'];if(!a[V(0x65,0x33)](c[V(0x5e,0x32)])&&!a[V(0x65,0x58)](d[V(0x5e,0x97)])){return b[V(0x68,0x46)](c)-b['indexOf'](d);}if(e[V(0x69,0x3a)]===f[V(0x69,0x7e)]){for(let g=0x0;g<e[V(0x69,0x86)];g++){if(e[g]<f[g]){return-0x1;}if(e[g]>f[g]){return 0x1;}}return 0x0;}else{return e[V(0x69,0x6b)]-f[V(0x69,0x48)];}});}['extractParents'](a,b,c=!![]){const d=this,{store:e}=d[W(0x1f0,0x1e8)];function W(a,b){return _cmpp(a- -0x2f9,b);}if(e['tree']){a[W(0x1fd,0x237)](g=>{g['traverse'](h=>{const i=h[X(0x124,0x10e)](!![]);function X(a,b){return _cmpb(b- -0x5c,a);}if(!a[X(0xd4,0xa2)](h)&&(!d[X(0xf4,0xaa)]||!a[X(0xb9,0xdb)](j=>i[X(0x74,0xa2)](j)))){a['push'](h);}});});}const f=a['reduce']((g,h)=>{let i;const j=h['parentId']||h[Y(0x316,0x34c)][Y(0x32d,0x340)];if(d['isCut']){i=h;i[Y(0x316,0x31a)][Y(0x30c,0x339)]=![];}else{i=h[Y(0x302,0x32d)]();if(c){i[d[Y(0x2ef,0x318)]]=d[Y(0x376,0x385)](i);}i[Y(0x361,0x38a)][Y(0x31e,0x349)]=h[Y(0x334,0x31f)](d[Y(0x350,0x38a)][Y(0x368,0x362)]);}b[h['id']]=i;if(h[Y(0x2fd,0x2c5)]===e['rootNode']){g[Y(0x379,0x355)](i);}else if(j in b){b[j][Y(0x341,0x361)](i,!![]);}else{g[Y(0x379,0x396)](i);}function Y(a,b){return W(a-0x160,b);}return g;},[]);f['forEach'](g=>{g['sortOrderedChildren'](!![],!![]);});return f;}}RowCopyPaste[_cmpp(0x4be,0x506)]=_cmpp(0x4ea,0x515);RowCopyPaste[_cmpp(0x505,0x4cc)]=_cmpp(0x487,0x454);GridFeatureManager[_cmpp(0x514,0x4e9)](RowCopyPaste,!![],'Grid');GridFeatureManager[_cmpp(0x514,0x517)](RowCopyPaste,![],'Gantt');GridFeatureManager[_cmpp(0x514,0x521)](RowCopyPaste,![],_cmpp(0x486,0x493));GridFeatureManager[_cmpp(0x514,0x549)](RowCopyPaste,![],_cmpp(0x4a8,0x476));class Grid extends GridBase{static get[_cmpp(0x49e,0x459)](){function Z(a,b){return _cmpp(a-0x1d,b);}return Z(0x4bc,0x4e0);}static get[_cmpp(0x4c5,0x4c2)](){function a0(a,b){return _cmpp(b- -0x693,a);}return a0(-0x14e,-0x180);}}function _cmpp(a,b){return _cmpb(a-0x39f,b);}Grid[_cmpp(0x4d0,0x4b8)]();Grid[_cmpp(0x505,0x536)]=_cmpp(0x49f,0x4c7);export{ColumnAutoWidth,Grid,RowCopyPaste};